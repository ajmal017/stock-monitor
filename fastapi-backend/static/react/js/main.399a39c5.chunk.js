(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{363:function(e,t,a){e.exports=a(546)},368:function(e,t,a){},369:function(e,t,a){},546:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),l=a(86),r=a.n(l),c=(a(368),a(24)),i=(a(369),a(589)),s=a(90),u=function(){return o.a.createElement("div",null,o.a.createElement(i.a,{as:"h1",icon:!0,textAlign:"center"},o.a.createElement(s.a,{name:"line chart",circular:!0}),o.a.createElement(i.a.Content,null,"Stock Monitor")))},d=a(587),m=a(585),y=(a(451),a(300)),x=[{id:"japan",color:"hsl(278, 70%, 50%)",data:[{x:"plane",y:164},{x:"helicopter",y:198},{x:"boat",y:283},{x:"train",y:42},{x:"subway",y:40},{x:"bus",y:86},{x:"car",y:41},{x:"moto",y:75},{x:"bicycle",y:87},{x:"horse",y:167},{x:"skateboard",y:20},{x:"others",y:73}]},{id:"france",color:"hsl(337, 70%, 50%)",data:[{x:"plane",y:211},{x:"helicopter",y:10},{x:"boat",y:101},{x:"train",y:219},{x:"subway",y:290},{x:"bus",y:256},{x:"car",y:35},{x:"moto",y:54},{x:"bicycle",y:28},{x:"horse",y:267},{x:"skateboard",y:221},{x:"others",y:291}]},{id:"us",color:"hsl(315, 70%, 50%)",data:[{x:"plane",y:61},{x:"helicopter",y:173},{x:"boat",y:69},{x:"train",y:119},{x:"subway",y:214},{x:"bus",y:263},{x:"car",y:41},{x:"moto",y:288},{x:"bicycle",y:279},{x:"horse",y:29},{x:"skateboard",y:172},{x:"others",y:60}]},{id:"germany",color:"hsl(210, 70%, 50%)",data:[{x:"plane",y:63},{x:"helicopter",y:234},{x:"boat",y:27},{x:"train",y:240},{x:"subway",y:78},{x:"bus",y:148},{x:"car",y:1},{x:"moto",y:166},{x:"bicycle",y:197},{x:"horse",y:227},{x:"skateboard",y:277},{x:"others",y:265}]},{id:"norway",color:"hsl(321, 70%, 50%)",data:[{x:"plane",y:230},{x:"helicopter",y:231},{x:"boat",y:72},{x:"train",y:99},{x:"subway",y:290},{x:"bus",y:182},{x:"car",y:86},{x:"moto",y:152},{x:"bicycle",y:49},{x:"horse",y:293},{x:"skateboard",y:124},{x:"others",y:71}]}],h=function(){return o.a.createElement("div",{style:{height:400}},o.a.createElement(y.a,{data:x,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"transportation",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"count",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]}))},b=function(e){var t=e.stock,a=e.openModal,l=e.setOpenModal,r=Object(n.useState)({}),s=Object(c.a)(r,2),u=s[0],d=s[1],y=Object(n.useState)(!0),x=Object(c.a)(y,2),b=(x[0],x[1]);return console.log("outside useefect",t,t.id),Object(n.useEffect)((function(){console.log("inside useefect",t,t.id),fetch("/stocks/".concat(t.id,"/historical"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){d(e),b(!1)}))}),[t]),console.log(u),o.a.createElement(m.a,{closeIcon:!0,onClose:function(){l(!1)},open:a,centered:!1},o.a.createElement(m.a.Header,null,t.symbol," Stock Historical Data"),o.a.createElement(m.a.Content,null,o.a.createElement(m.a.Description,null,o.a.createElement(i.a,null,"Historical Chart"),o.a.createElement(h,null))))},f=function(e){var t=e.update,a=e.setUpdate,l=e.stockData,r=e.setStockData,i=(e.loading,e.setLoading),s=Object(n.useState)(!1),u=Object(c.a)(s,2),m=u[0],y=u[1],x=Object(n.useState)({}),h=Object(c.a)(x,2),f=h[0],g=h[1];Object(n.useEffect)((function(){console.log("render");fetch("/stocks",{method:"GET"}).then((function(e){return e.json()})).then((function(e){r(e)}))}),[]),console.log(t),Object(n.useEffect)((function(){if(t){console.log("RErender");console.log("fetching"),fetch("/stocks",{method:"GET"}).then((function(e){return e.json()})).then((function(e){r(e),i(!1),a(!1)}))}}),[t]);return o.a.createElement("div",null,o.a.createElement(d.a,{celled:!0,selectable:!0},o.a.createElement(d.a.Header,null,o.a.createElement(d.a.Row,null,o.a.createElement(d.a.HeaderCell,null,"Symbol"),o.a.createElement(d.a.HeaderCell,null,"Price"),o.a.createElement(d.a.HeaderCell,null,"50 Day Moving Average"),o.a.createElement(d.a.HeaderCell,null,"200 Day Moving Average"),o.a.createElement(d.a.HeaderCell,null,"Forward Price to Earnings Ratio"),o.a.createElement(d.a.HeaderCell,null,"Forward Earnings per Share"),o.a.createElement(d.a.HeaderCell,null,"Dividend Yield"))),o.a.createElement(d.a.Body,null,l.map((function(e){return o.a.createElement(d.a.Row,{onClick:function(t){return function(e,t){console.log("hi"),console.log(t.id),g(t),y(!0)}(0,e)}},o.a.createElement(d.a.Cell,null,e.symbol),o.a.createElement(d.a.Cell,null,e.price),o.a.createElement(d.a.Cell,null,e.ma50),o.a.createElement(d.a.Cell,null,e.ma200),o.a.createElement(d.a.Cell,null,e.forward_pe),o.a.createElement(d.a.Cell,null,e.forward_eps),o.a.createElement(d.a.Cell,null,e.dividend_yield))})))),o.a.createElement(b,{stock:f,openModal:m,setOpenModal:y}))},g=a(584),p=a(583),E=a(569),k=function(e){var t=e.update,a=e.setUpdate,l=e.loading,r=e.setLoading,i=Object(n.useState)(""),s=Object(c.a)(i,2),u=s[0],d=s[1];return console.log("rendering add stock form",l),o.a.createElement(g.a,{onSubmit:function(e){r(!0),e.preventDefault(),console.log(u);var t={method:"POST",body:JSON.stringify({symbol:u})};fetch("/stocks",t),d(""),a(!0)}},o.a.createElement(g.a.Group,null,o.a.createElement(p.a,{type:" text","data-parse":"uppercase",placeholder:"Add Stock...",value:u,onChange:function(e){return d(e.target.value)}}),t?o.a.createElement(E.a,{loading:!0},"Loading"):o.a.createElement(E.a,{action:"submit"},"Submit")))};var O=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)([]),i=Object(c.a)(r,2),s=i[0],d=i[1],m=Object(n.useState)(!1),y=Object(c.a)(m,2),x=y[0],h=y[1];return o.a.createElement("div",{className:"ui container center aligned"},o.a.createElement(u,null),o.a.createElement(k,{update:a,setUpdate:l,loading:x,setLoading:h}),o.a.createElement(f,{update:a,setUpdate:l,stockData:s,setStockData:d,loading:x,setLoading:h}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[363,1,2]]]);
//# sourceMappingURL=main.399a39c5.chunk.js.map